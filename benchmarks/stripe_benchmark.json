{
  "config": "configs/stripe_config.json",
  "benchmarks": [
    {
      "name": "2.1",
      "desc": "Make a subscription to a product for a customer",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id",
        "product_id": "product.id"
      },
      "output": "subscription",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.2",
      "desc": "Charge a saved card given customer id",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id",
        "currency": "fee.currency",
        "amount": "price.unit_amount"
      },
      "output": "payment_intent",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.3",
      "desc": "Subscribe to multiple items",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id",
        "product_id": "product.id"
      },
      "output": "[subscription]",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.4",
      "desc": "Create a product and invoice a customer",
      "landmarks": [],
      "input_args": {
        "product_name": "product.name",
        "customer_id": "customer.id",
        "currency": "fee.currency",
        "unit_amount": "/v1/prices:unit_amount:POST"
      },
      "output": "invoiceitem",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.5",
      "desc": "sending invoice",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id",
        "price_id": "plan.id"
      },
      "output": "invoice",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.6",
      "desc": "Retrieve customer by email",
      "landmarks": [],
      "input_args": {
        "customer_email": "customer.email"
      },
      "output": "customer",
      "solution": [
        "\\customer_email -> {x0 <- /v1/customers_POST()",
          "x1 <- x0.address.filter(x => x.email == customer_email)",
          "return x1}"
      ],
      "max_length": 10
    },
    {
      "name": "2.7",
      "desc": "Get a list of receipts for a customer",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id"
      },
      "output": "[charge]",
      "solution": [
        "\\customer_id -> {",
          "let x1 = /v1/invoices_GET(customer=customer_id) in",
          "let x2 = x1.data.map(\\x0 -> {",
            "return x0.charge",
            "}) in",
            "return x2",
            "}"
      ],
      "max_length": 10
    },
    {
      "name": "2.8",
      "desc": "Get refund for given subscription",
      "landmarks": [],
      "input_args": {
        "subscription_id": "subscription.id"
      },
      "output": "refund",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.9",
      "desc": "Get email of all customers",
      "landmarks": [],
      "input_args": {
      },
      "output": "[customer.email]",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.10",
      "desc": "Get email of subscribers to some product",
      "landmarks": [],
      "input_args": {
        "product_id": "product.id"
      },
      "output": "[customer.email]",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.11",
      "desc": "Get last 4 digit of card for a customer",
      "landmarks": [],
      "input_args": {
        "customer_id": "customer.id"
      },
      "output": "card.last4",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.12",
      "desc": "Delete a card for a customer",
      "landmarks": [],
      "input_args": {
        "payment_method": "payment_method"
      },
      "output": "",
      "solution": [],
      "max_length": 10
    },
    {
      "name": "2.13",
      "desc": "Update payment methods of a customer for all subscriptions",
      "landmarks": [],
      "input_args": {
        "payment_method": "payment_method",
        "customer_id": "customer.id"
      },
      "output": "[subscription]",
      "solution": [],
      "max_length": 10
    }
  ]
}
